{"version":3,"file":"sails.event.js","sourceRoot":"","sources":["../src/sails.event.ts"],"names":[],"mappings":"AAEA,MAAM,CAAC,IAAM,IAAI,GAAG;IAChB,OAAO,EAAE,SAAS;IAClB,OAAO,EAAE,SAAS;IAClB,KAAK,EAAE,OAAO;IACd,SAAS,EAAE,WAAW;IACtB,OAAO,EAAE,SAAS;CACrB,CAAC;AAEF;IACI,oBAAoB,GAA4B,EAAU,GAAc;QAApD,QAAG,GAAH,GAAG,CAAyB;QAAU,QAAG,GAAH,GAAG,CAAW;IAAI,CAAC;IAEtE,8BAAS,GAAhB;QACI,OAAO,IAAI,CAAC,OAAO,EAAE,KAAK,IAAI,CAAC,OAAO,CAAC;IAC3C,CAAC;IAEM,8BAAS,GAAhB;QACI,OAAO,IAAI,CAAC,OAAO,EAAE,KAAK,IAAI,CAAC,OAAO,CAAC;IAC3C,CAAC;IAEM,gCAAW,GAAlB;QACI,OAAO,IAAI,CAAC,OAAO,EAAE,KAAK,IAAI,CAAC,SAAS,CAAC;IAC7C,CAAC;IAEM,4BAAO,GAAd;QACI,OAAO,IAAI,CAAC,OAAO,EAAE,KAAK,IAAI,CAAC,KAAK,CAAC;IACzC,CAAC;IAEM,8BAAS,GAAhB;QACI,OAAO,IAAI,CAAC,OAAO,EAAE,KAAK,IAAI,CAAC,OAAO,CAAC;IAC3C,CAAC;IAEM,4BAAO,GAAd;QACI,OAAO,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC;IACzB,CAAC;IAEM,4BAAO,GAAd;QACI,OAAO,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC;IACzB,CAAC;IAEM,0BAAK,GAAZ;QACI,OAAO,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC;IACvB,CAAC;IAEM,2BAAM,GAAb;QACI,OAAO,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC;IACtB,CAAC;IAEM,gCAAW,GAAlB;QAAmB,gBAAS;aAAT,UAAS,EAAT,qBAAS,EAAT,IAAS;YAAT,2BAAS;;QACxB,IAAI,CAAC,IAAI,CAAC,GAAG;YAAE,OAAO,KAAK,CAAC;QAC5B,IAAI,CAAC,GAAG,OAAR,IAAI,EAAQ,MAAM,EAAE;QACpB,OAAO,IAAI,CAAC;IAChB,CAAC;IAEL,iBAAC;AAAD,CAAC,AA7CD,IA6CC","sourcesContent":["import { SailsIOClient } from \"./sails.io.client\";\r\n\r\nexport const Verb = {\r\n    CREATED: \"created\",\r\n    UPDATED: \"updated\",\r\n    ADDED: \"added\",\r\n    DESTROYED: \"destroyed\",\r\n    REMOVED: \"removed\",\r\n};\r\n\r\nexport class SailsEvent {\r\n    constructor(private JWR: SailsIOClient.JWR.Event, private ack?: Function) { }\r\n\r\n    public isCreated(): boolean {\r\n        return this.getVerb() === Verb.CREATED;\r\n    }\r\n\r\n    public isUpdated(): boolean {\r\n        return this.getVerb() === Verb.UPDATED;\r\n    }\r\n\r\n    public isDestroyed(): boolean {\r\n        return this.getVerb() === Verb.DESTROYED;\r\n    }\r\n\r\n    public isAdded(): boolean {\r\n        return this.getVerb() === Verb.ADDED;\r\n    }\r\n\r\n    public isRemoved(): boolean {\r\n        return this.getVerb() === Verb.REMOVED;\r\n    }\r\n\r\n    public getVerb(): string {\r\n        return this.JWR.verb;\r\n    }\r\n\r\n    public getData(): object {\r\n        return this.JWR.data;\r\n    }\r\n\r\n    public getId(): string | number {\r\n        return this.JWR.id;\r\n    }\r\n\r\n    public hasAck(): boolean {\r\n        return !!this.ack;\r\n    }\r\n\r\n    public acknowledge(...params): boolean {\r\n        if (!this.ack) return false;\r\n        this.ack(...params);\r\n        return true;\r\n    }\r\n\r\n}\r\n"]}